<div class="breadcrumbs" id="breadcrumbs">
    <script type="text/javascript">
        try{ace.settings.check('breadcrumbs' , 'fixed')}catch(e){}
    </script>

    <ul class="breadcrumb">
        <li>
            <i class="icon-home home-icon"></i>
            <a href="#" id="text1"></a>
        </li>
        <li class="active" id="text2"></li>
    </ul><!-- .breadcrumb -->

</div>
<layout name="layout"/>
<div class="col-sm-11" style="margin-top:20px;margin-left:20px;">
	<div class="alert alert-warning no-margin">
		<button type="button" class="close" data-dismiss="alert">
			<i class="icon-remove"></i>
		</button>

		<i class="icon-bell-alt icon-animated-bell bigger-120 red"></i>
		<strong>警告！</strong>当前文件已超过磁盘存储量的<strong>80%</strong>，请删除旧文件！
	</div>
	<div class="widget-box" style="margin-top:20px;">
		<div class="widget-header widget-header-flat widget-header-small" style="min-height: 56px;">
			<h5>
				<i class="icon-signal"></i>
				磁盘空间信息
			</h5>
			<div style="float:right;">
				
				<button class="my_btn my_btn_xs my_btn_red titleshow" style="margin: 10px 10px 0 0;border-radius: 15px;" title="清理磁盘垃圾文件" data-rel="tooltip" data-placement="top">
					<i  class="icon-trash bigger-120"></i>一键清理
				</button>
			</div>
		
		</div>

		<div class="widget-body">
			<div class="widget-main">
				

				

				<div class="clearfix">
				<!-- 	<div class="grid3">
						<button class="my_btn my_btn_xs my_btn_red" style="margin:0px;">一键清理</button>
						<span class="grey" >
							
							<span class="bigger pull-left">&nbsp; 可清理文件</span>
							<h4 class="bigger pull-">1,255MB</h4>
						</span>
						
					</div> -->
					<div class="grid4">
						<span class="grey">
							
							<i  class="icon-trash icon-2x red"></i></button>
							&nbsp; 可清理文件
						
						</span>
						<h4 class="bigger pull-right">1,255MB</h4>
					</div>
					<div class="grid4">
						<span class="grey">

							<i class="icon-facetime-video icon-2x" style="color:#FEE074"></i>
							&nbsp; 监控文件
						</span>
						<h4 class="bigger pull-right">0MB</h4>
					</div>
					<div class="grid4">
						<span class="grey">

							<i class="icon-desktop icon-2x " style="color:#2091CF"></i>
							&nbsp; 镜像文件
						</span>
						<h4 class="bigger pull-right">0MB</h4>
					</div>
					<div class="grid4">
						<span class="grey">
							
							<i class="icon-exclamation-sign icon-2x red"></i>
							&nbsp; 重要文件
						</span>
						<h4 class="bigger pull-right">1,050MB</h4>
					</div>
				</div>

				<div class="hr hr8 hr-double"></div>
				<div id="piechart-placeholder"></div>
			</div><!-- /widget-main -->
		</div><!-- /widget-body -->
	</div><!-- /widget-box -->
</div><!-- /span -->


<!-- page specific plugin scripts -->

<!--[if lte IE 8]>
  <script src="__PUBLIC__/assets/js/excanvas.min.js"></script>
<![endif]-->
	


<!-- page specific plugin scripts -->

<!--[if lte IE 8]>
  <script src="__PUBLIC__/assets/js/excanvas.min.js"></script>
<![endif]-->


<script src="__PUBLIC__/assets/js/flot/jquery.flot.min.js"></script>
<script src="__PUBLIC__/assets/js/flot/jquery.flot.pie.min.js"></script>
<script src="__PUBLIC__/assets/js/flot/jquery.flot.resize.min.js"></script>

<!-- ace scripts -->

<!-- ace scripts -->



<script type="text/javascript">
jQuery(function($) {
				
		  pLeftMenu(4,6);
		  $("[data-rel='tooltip']").tooltip();	
		  var placeholder = $('#piechart-placeholder').css({'width':'90%' , 'min-height':'300px'});
		  var data = [
			{ label: "剩余空间",  data: 38.7, color: "#68BC31"},
			
			{ label: "监控文件",  data: 24.5, color: "#DA5430"},
			{ label: "镜像文件",  data: 10, color: "#2091CF"},
			{ label: "截屏录屏",  data: 8.2, color: "#FEE074"},
			{ label: "其他",  data: 18.6, color: "#AF4E96"}
		  ]
		  function drawPieChart(placeholder, data, position) {
		 	  $.plot(placeholder, data, {
				series: {
					pie: {
						show: true,
						tilt:0.8,
						highlight: {
							opacity: 0.25
						},
						stroke: {
							color: '#fff',
							width: 2
						},
						startAngle: 2
					}
				},
				legend: {
					show: true,
					position: position || "ne", 
					labelBoxBorderColor: null,
					margin:[-30,15]
				}
				,
				grid: {
					hoverable: true,
					clickable: true
				}
			 })
		 }
		 drawPieChart(placeholder, data);
		
		 /**
		 we saved the drawing function and the data to redraw with different position later when switching to RTL mode dynamically
		 so that's not needed actually.
		 */
		 placeholder.data('chart', data);
		 placeholder.data('draw', drawPieChart);
		
		
		
		  var $tooltip = $("<div class='tooltip top in'><div class='tooltip-inner'></div></div>").hide().appendTo('body');
		  var previousPoint = null;
		
		  placeholder.on('plothover', function (event, pos, item) {
			if(item) {
				if (previousPoint != item.seriesIndex) {
					previousPoint = item.seriesIndex;
					var tip = item.series['label'] + " : " + item.series['percent']+'%';
					$tooltip.show().children(0).text(tip);
				}
				$tooltip.css({top:pos.pageY + 10, left:pos.pageX + 10});
			} else {
				$tooltip.hide();
				previousPoint = null;
			}
			
		 });

			
	})
</script>		

